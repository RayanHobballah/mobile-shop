{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rayan Hobballah\\\\Desktop\\\\mobileshop\\\\mobile-shop\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport loginBg from \"../assets/login-bg.jpg\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ADMIN_EMAIL = \"72330526@students.liu.edu.lb\";\nconst ADMIN_PASS = \"Rayan72330526\";\nfunction Login({\n  login\n}) {\n  _s();\n  const [username, setUsername] = useState(\"\"); // can be email OR username\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLoginClick = () => {\n    const uInput = (username || \"\").trim();\n    const pInput = (password || \"\").trim();\n    if (!uInput || !pInput) {\n      alert(\"Please fill all fields\");\n      return;\n    }\n    setMsg(\"\");\n\n    // ✅ Admin login (exact)\n    if (uInput.toLowerCase() === ADMIN_EMAIL.toLowerCase() && pInput === ADMIN_PASS) {\n      const adminUser = {\n        name: \"Main Admin\",\n        email: ADMIN_EMAIL,\n        role: \"admin\"\n      };\n      login(adminUser);\n      navigate(\"/admin\");\n      return;\n    }\n\n    // ✅ Normal users from localStorage\n    const users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\n\n    // Match by email OR name (username) + password\n    const found = users.find(u => {\n      const storedEmail = (u.email || \"\").trim().toLowerCase();\n      const storedName = (u.name || u.username || \"\").trim().toLowerCase();\n      const storedPass = (u.password || \"\").trim();\n      const inputLower = uInput.toLowerCase();\n      const matchesUser = storedEmail === inputLower || storedName === inputLower;\n      const matchesPass = storedPass === pInput;\n      return matchesUser && matchesPass;\n    });\n    if (!found) {\n      setMsg(\"Login failed: wrong email/username or password\");\n      return;\n    }\n\n    // ✅ Save logged user\n    login({\n      name: found.name || found.username || \"\",\n      email: found.email || \"\",\n      role: found.role || \"user\"\n    });\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-bg\",\n    style: {\n      backgroundImage: 'url(${loginBg})'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Username or Email\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoginClick,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"yVNPgESkuQUnclOz5C9GANxkFmY=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Link","loginBg","jsxDEV","_jsxDEV","ADMIN_EMAIL","ADMIN_PASS","Login","login","_s","username","setUsername","password","setPassword","msg","setMsg","navigate","handleLoginClick","uInput","trim","pInput","alert","toLowerCase","adminUser","name","email","role","users","JSON","parse","localStorage","getItem","found","find","u","storedEmail","storedName","storedPass","inputLower","matchesUser","matchesPass","className","style","backgroundImage","children","fileName","_jsxFileName","lineNumber","columnNumber","color","placeholder","value","onChange","e","target","type","onClick","to","_c","$RefreshReg$"],"sources":["C:/Users/Rayan Hobballah/Desktop/mobileshop/mobile-shop/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport loginBg from \"../assets/login-bg.jpg\";\r\nimport \"../App.css\";\r\n\r\nconst ADMIN_EMAIL = \"72330526@students.liu.edu.lb\";\r\nconst ADMIN_PASS = \"Rayan72330526\";\r\n\r\nfunction Login({ login }) {\r\n  const [username, setUsername] = useState(\"\"); // can be email OR username\r\n  const [password, setPassword] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleLoginClick = () => {\r\n    const uInput = (username || \"\").trim();\r\n    const pInput = (password || \"\").trim();\r\n\r\n    if (!uInput || !pInput) {\r\n      alert(\"Please fill all fields\");\r\n      return;\r\n    }\r\n\r\n    setMsg(\"\");\r\n\r\n    // ✅ Admin login (exact)\r\n    if (uInput.toLowerCase() === ADMIN_EMAIL.toLowerCase() && pInput === ADMIN_PASS) {\r\n      const adminUser = { name: \"Main Admin\", email: ADMIN_EMAIL, role: \"admin\" };\r\n      login(adminUser);\r\n      navigate(\"/admin\");\r\n      return;\r\n    }\r\n\r\n    // ✅ Normal users from localStorage\r\n    const users = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\r\n\r\n    // Match by email OR name (username) + password\r\n    const found = users.find((u) => {\r\n      const storedEmail = (u.email || \"\").trim().toLowerCase();\r\n      const storedName = (u.name || u.username || \"\").trim().toLowerCase();\r\n      const storedPass = (u.password || \"\").trim();\r\n\r\n      const inputLower = uInput.toLowerCase();\r\n\r\n      const matchesUser = storedEmail === inputLower || storedName === inputLower;\r\n      const matchesPass = storedPass === pInput;\r\n\r\n      return matchesUser && matchesPass;\r\n    });\r\n\r\n    if (!found) {\r\n      setMsg(\"Login failed: wrong email/username or password\");\r\n      return;\r\n    }\r\n\r\n    // ✅ Save logged user\r\n    login({\r\n      name: found.name || found.username || \"\",\r\n      email: found.email || \"\",\r\n      role: found.role || \"user\",\r\n    });\r\n\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-bg\" style={{ backgroundImage: 'url(${loginBg})' }}>\r\n      <div className=\"login-container\">\r\n        <h2>Login</h2>\r\n\r\n        {msg && <p style={{ color: \"red\" }}>{msg}</p>}\r\n\r\n        <input\r\n          placeholder=\"Username or Email\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n\r\n        <button onClick={handleLoginClick}>Login</button>\r\n\r\n        <p>\r\n          Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}