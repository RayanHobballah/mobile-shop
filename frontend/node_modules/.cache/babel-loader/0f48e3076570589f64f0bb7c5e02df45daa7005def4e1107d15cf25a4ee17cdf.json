{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rayan Hobballah\\\\Desktop\\\\mobileshop\\\\mobile-shop\\\\frontend\\\\src\\\\admin\\\\Products.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Products() {\n  _s();\n  const BASE = \"http://localhost:5000\";\n  const nav = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [preview, setPreview] = useState(null);\n  const [imagePath, setImagePath] = useState(\"\");\n  useEffect(() => {\n    load();\n  }, []);\n  const load = async () => {\n    const c = await axios.get(`${BASE}/api/categories`);\n    const p = await axios.get(`${BASE}/api/products`);\n    setCategories(c.data || []);\n    setProducts(p.data || []);\n  };\n  const handleFile = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Preview (UX)\n    setPreview(URL.createObjectURL(file));\n\n    // ðŸ”´ SIMULATION: map to static image\n    setImagePath(\"/uploads/iphone.jpg\");\n  };\n  const addProduct = async () => {\n    if (!name || !price || !categoryId || !imagePath) {\n      alert(\"Fill all fields and choose image\");\n      return;\n    }\n    await axios.post(`${BASE}/api/admin/products`, {\n      name,\n      price,\n      category_id: categoryId,\n      image: imagePath\n    });\n    setName(\"\");\n    setPrice(\"\");\n    setCategoryId(\"\");\n    setPreview(null);\n    setImagePath(\"\");\n    load();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => nav(\"/admin\"),\n      children: \"\\u2B05 Back to Admin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 420\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Product name\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Price\",\n        value: price,\n        onChange: e => setPrice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: categoryId,\n        onChange: e => setCategoryId(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.id,\n          children: c.name\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), preview && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview,\n        alt: \"preview\",\n        style: {\n          width: \"100%\",\n          marginTop: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addProduct,\n        children: \"Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"All Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), products.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [p.name, \" \\u2014 $\", p.price]\n    }, p.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"VxUxpSlhjcUI4IicMLiR7Aw8qOA=\", false, function () {\n  return [useNavigate];\n});\n_c = Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","Products","_s","BASE","nav","categories","setCategories","products","setProducts","name","setName","price","setPrice","categoryId","setCategoryId","preview","setPreview","imagePath","setImagePath","load","c","get","p","data","handleFile","e","file","target","files","URL","createObjectURL","addProduct","alert","post","category_id","image","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","placeholder","value","onChange","map","id","type","accept","src","alt","width","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Rayan Hobballah/Desktop/mobileshop/mobile-shop/frontend/src/admin/Products.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Products() {\r\n  const BASE = \"http://localhost:5000\";\r\n  const nav = useNavigate();\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [categoryId, setCategoryId] = useState(\"\");\r\n\r\n  const [preview, setPreview] = useState(null);\r\n  const [imagePath, setImagePath] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  const load = async () => {\r\n    const c = await axios.get(`${BASE}/api/categories`);\r\n    const p = await axios.get(`${BASE}/api/products`);\r\n    setCategories(c.data || []);\r\n    setProducts(p.data || []);\r\n  };\r\n\r\n  const handleFile = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Preview (UX)\r\n    setPreview(URL.createObjectURL(file));\r\n\r\n    // ðŸ”´ SIMULATION: map to static image\r\n    setImagePath(\"/uploads/iphone.jpg\");\r\n  };\r\n\r\n  const addProduct = async () => {\r\n    if (!name || !price || !categoryId || !imagePath) {\r\n      alert(\"Fill all fields and choose image\");\r\n      return;\r\n    }\r\n\r\n    await axios.post(`${BASE}/api/admin/products`, {\r\n      name,\r\n      price,\r\n      category_id: categoryId,\r\n      image: imagePath\r\n    });\r\n\r\n    setName(\"\");\r\n    setPrice(\"\");\r\n    setCategoryId(\"\");\r\n    setPreview(null);\r\n    setImagePath(\"\");\r\n\r\n    load();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => nav(\"/admin\")}>â¬… Back to Admin</button>\r\n      <h2>Products</h2>\r\n\r\n      <div style={{ maxWidth: 420 }}>\r\n        <input placeholder=\"Product name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n        <input placeholder=\"Price\" value={price} onChange={(e) => setPrice(e.target.value)} />\r\n\r\n        <select value={categoryId} onChange={(e) => setCategoryId(e.target.value)}>\r\n          <option value=\"\">Select category</option>\r\n          {categories.map((c) => (\r\n            <option key={c.id} value={c.id}>{c.name}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <input type=\"file\" accept=\"image/*\" onChange={handleFile} />\r\n\r\n        {preview && <img src={preview} alt=\"preview\" style={{ width: \"100%\", marginTop: 10 }} />}\r\n\r\n        <button onClick={addProduct}>Add Product</button>\r\n      </div>\r\n\r\n      <hr />\r\n\r\n      <h3>All Products</h3>\r\n      {products.map((p) => (\r\n        <div key={p.id}>\r\n          {p.name} â€” ${p.price}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}